<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>STL重心探知機</title>
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/styles.css" />

    <script src="https://dg4-design.github.io/dg4-design.github.io-childpage-elements/childPageElements.js" defer=""></script>
  </head>
  <body>
    <input type="file" id="fileInput" accept=".stl" />
    <div class="control-panel">
      <label for="sphereSize">重心球サイズ:</label>
      <input type="range" id="sphereSize" min="1" max="20" value="5" step="0.5" />
      <span id="sphereSizeValue" class="slider-value">5%</span>
    </div>
    <div id="viewer"></div>

    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.161.0/build/three.module.js",
          "three/addons/": "https://unpkg.com/three@0.161.0/examples/jsm/"
        }
      }
    </script>

    <script type="module">
      import { STLViewer } from "./js/viewer.js";

      const viewer = new STLViewer();

      document.getElementById("fileInput").addEventListener("change", function (event) {
        const file = event.target.files[0];
        if (file) {
          viewer.loadSTL(file);
        }
      });
    </script>
  </body>
</html>
